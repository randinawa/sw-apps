(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ed52"],{d6f0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[t._m(0),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.add-department",modifiers:{"add-department":!0}}],staticClass:"rounded-pill",attrs:{variant:"primary"}},[t._v(" Build New Department ")])],1),a("b-row",t._l(t.departments,(function(e){return a("b-col",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"detail_"+e.id,expression:"'detail_' + department.id"}],key:e.id,attrs:{md:"3"}},[a("b-card",{staticClass:"mt-2"},[a("b-card-body",{attrs:{align:"center"}},[a("div",{staticClass:"w-50 p-1 rounded-circle text-primary",staticStyle:{background:"#ece9ff"}},[a("feather-icon",{attrs:{icon:"BoxIcon",size:"60"}})],1),a("b-card-text",{staticClass:"mt-2"},[a("h4",[t._v(t._s(e.name))]),a("span",[t._v(t._s(e.users_count)+" People Assigned")])])],1)],1)],1)})),1),t._l(t.departments,(function(e){return a("b-modal",{key:e.id,attrs:{id:"detail_"+e.id,title:e.name,size:"md","hide-footer":""}},[a("form",{on:{submit:function(a){return a.preventDefault(),t.form_update(e)}}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",placeholder:"Department Name"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"department.name"}})],1),a("div",{staticClass:"text-right"},[a("b-button",{attrs:{type:"button",variant:"outline-danger"},on:{click:function(a){return t.deleteDepartment(e.id)}}},[t._v("Delete")]),a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")])],1)],1)])})),a("b-modal",{attrs:{id:"add-department",title:"Add Department",size:"md","hide-footer":""}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.form_create(e)}}},[a("b-form-group",[a("b-form-input",{attrs:{type:"text",placeholder:"Department Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("div",{staticClass:"text-right"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Save")])],1)],1)])],2)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"line-height":"10px"}},[a("h4",[t._v("Available")]),a("span",{staticClass:"text-muted"},[t._v("Empower Company")])])}],i=(a("b0c0"),a("4de4"),a("d3b7"),{data:function(){return{departments:[],name:""}},mounted:function(){var t=this;this.callApi({method:"GET",url:"/departments/fetch",params:{with_responsibilities:1,assigned:1},success:function(e){t.departments=e.result.data},error:function(t){console.log(t)}})},methods:{form_create:function(){var t=this;this.callApi({method:"POST",url:"/departments/create",data:{level:1,name:this.name},success:function(e){t.departments.push(e.result),t.$bvModal.hide("add-department"),t.$toast({component:"@core/components/toastification/ToastificationContent.vue",props:{title:"Success",message:"Department has been created",type:"success"}})},error:function(t){console.log(t)}})},form_update:function(t){var e=this;this.callApi({method:"POST",url:"/departments/update",data:{id:t.id,name:t.name},success:function(a){e.$bvModal.hide("detail_"+t.id)},error:function(t){console.log(t)}})},deleteDepartment:function(t){var e=this;this.callApi({method:"DELETE",url:"/departments/delete/"+this.hashid(t),success:function(a){e.departments=e.departments.filter((function(e){return e.id!=t}))},error:function(t){console.log(t)}})}}}),s=i,o=a("2877"),d=Object(o["a"])(s,n,r,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d21ed52.2a2c0667.js.map