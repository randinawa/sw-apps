{"version":3,"sources":["webpack:///./src/views/modules/hrm/Department.vue?86ea","webpack:///src/views/modules/hrm/Department.vue","webpack:///./src/views/modules/hrm/Department.vue?2a44","webpack:///./src/views/modules/hrm/Department.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","directives","name","rawName","modifiers","attrs","_v","_l","department","value","id","expression","key","staticStyle","_s","users_count","on","$event","preventDefault","form_update","model","callback","$$v","$set","deleteDepartment","form_create","staticRenderFns","data","departments","mounted","method","url","params","with_responsibilities","assigned","success","error","console","methods","level","component","props","title","message","type"],"mappings":"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","file":"js/chunk-2d21ed52.2a2c0667.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_vm._m(0),_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.add-department\",modifiers:{\"add-department\":true}}],staticClass:\"rounded-pill\",attrs:{\"variant\":\"primary\"}},[_vm._v(\" Build New Department \")])],1),_c('b-row',_vm._l((_vm.departments),function(department){return _c('b-col',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('detail_' + department.id),expression:\"'detail_' + department.id\"}],key:department.id,attrs:{\"md\":\"3\"}},[_c('b-card',{staticClass:\"mt-2\"},[_c('b-card-body',{attrs:{\"align\":\"center\"}},[_c('div',{staticClass:\"w-50 p-1 rounded-circle text-primary\",staticStyle:{\"background\":\"#ece9ff\"}},[_c('feather-icon',{attrs:{\"icon\":\"BoxIcon\",\"size\":\"60\"}})],1),_c('b-card-text',{staticClass:\"mt-2\"},[_c('h4',[_vm._v(_vm._s(department.name))]),_c('span',[_vm._v(_vm._s(department.users_count)+\" People Assigned\")])])],1)],1)],1)}),1),_vm._l((_vm.departments),function(department){return _c('b-modal',{key:department.id,attrs:{\"id\":'detail_' + department.id,\"title\":department.name,\"size\":\"md\",\"hide-footer\":\"\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.form_update(department)}}},[_c('b-form-group',[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Department Name\"},model:{value:(department.name),callback:function ($$v) {_vm.$set(department, \"name\", $$v)},expression:\"department.name\"}})],1),_c('div',{staticClass:\"text-right\"},[_c('b-button',{attrs:{\"type\":\"button\",\"variant\":\"outline-danger\"},on:{\"click\":function($event){return _vm.deleteDepartment(department.id)}}},[_vm._v(\"Delete\")]),_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Save\")])],1)],1)])}),_c('b-modal',{attrs:{\"id\":\"add-department\",\"title\":\"Add Department\",\"size\":\"md\",\"hide-footer\":\"\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.form_create($event)}}},[_c('b-form-group',[_c('b-form-input',{attrs:{\"type\":\"text\",\"placeholder\":\"Department Name\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1),_c('div',{staticClass:\"text-right\"},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Save\")])],1)],1)])],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"line-height\":\"10px\"}},[_c('h4',[_vm._v(\"Available\")]),_c('span',{staticClass:\"text-muted\"},[_vm._v(\"Empower Company\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"d-flex justify-content-between align-items-center\">\n      <div style=\"line-height: 10px\">\n        <h4>Available</h4>\n        <span class=\"text-muted\">Empower Company</span>\n      </div>\n      <b-button variant=\"primary\" class=\"rounded-pill\" v-b-modal.add-department>\n        Build New Department\n      </b-button>\n    </div>\n    <b-row>\n      <b-col\n        md=\"3\"\n        v-for=\"department in departments\"\n        :key=\"department.id\"\n        v-b-modal=\"'detail_' + department.id\"\n      >\n        <b-card class=\"mt-2\">\n          <b-card-body align=\"center\">\n            <div\n              class=\"w-50 p-1 rounded-circle text-primary\"\n              style=\"background: #ece9ff\"\n            >\n              <feather-icon icon=\"BoxIcon\" size=\"60\"></feather-icon>\n            </div>\n            <b-card-text class=\"mt-2\">\n              <h4>{{ department.name }}</h4>\n              <span>{{ department.users_count }} People Assigned</span>\n            </b-card-text>\n          </b-card-body>\n        </b-card>\n      </b-col>\n    </b-row>\n\n    <b-modal\n      v-for=\"department in departments\"\n      :key=\"department.id\"\n      :id=\"'detail_' + department.id\"\n      :title=\"department.name\"\n      size=\"md\"\n      hide-footer\n    >\n      <form @submit.prevent=\"form_update(department)\">\n        <b-form-group>\n          <b-form-input\n            v-model=\"department.name\"\n            type=\"text\"\n            placeholder=\"Department Name\"\n          />\n        </b-form-group>\n\n        <div class=\"text-right\">\n          <b-button\n            type=\"button\"\n            variant=\"outline-danger\"\n            @click=\"deleteDepartment(department.id)\"\n            >Delete</b-button\n          >\n          <b-button type=\"submit\" variant=\"primary\">Save</b-button>\n        </div>\n      </form>\n    </b-modal>\n\n    <b-modal id=\"add-department\" title=\"Add Department\" size=\"md\" hide-footer>\n      <form @submit.prevent=\"form_create\">\n        <b-form-group>\n          <b-form-input\n            v-model=\"name\"\n            type=\"text\"\n            placeholder=\"Department Name\"\n          />\n        </b-form-group>\n\n        <div class=\"text-right\">\n          <b-button type=\"submit\" variant=\"primary\">Save</b-button>\n        </div>\n      </form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      departments: [],\n      name: \"\",\n    };\n  },\n  mounted() {\n    this.callApi({\n      method: \"GET\",\n      url: \"/departments/fetch\",\n      params: {\n        with_responsibilities: 1,\n        assigned: 1,\n      },\n      success: (response) => {\n        this.departments = response.result.data;\n      },\n      error: (error) => {\n        console.log(error);\n      },\n    });\n  },\n\n  methods: {\n    form_create() {\n      this.callApi({\n        method: \"POST\",\n        url: \"/departments/create\",\n        data: {\n          level: 1,\n          name: this.name,\n        },\n        success: (response) => {\n          this.departments.push(response.result);\n          this.$bvModal.hide(\"add-department\");\n\n          this.$toast({\n            component:\n              \"@core/components/toastification/ToastificationContent.vue\",\n            props: {\n              title: \"Success\",\n              message: \"Department has been created\",\n              type: \"success\",\n            },\n          });\n        },\n        error: (error) => {\n          console.log(error);\n        },\n      });\n    },\n    form_update(department) {\n      this.callApi({\n        method: \"POST\",\n        url: \"/departments/update\",\n        data: {\n          id: department.id,\n          name: department.name,\n        },\n        success: (response) => {\n          this.$bvModal.hide(\"detail_\" + department.id);\n        },\n        error: (error) => {\n          console.log(error);\n        },\n      });\n    },\n    deleteDepartment(id) {\n      this.callApi({\n        method: \"DELETE\",\n        url: \"/departments/delete/\" + this.hashid(id),\n        success: (response) => {\n          this.departments = this.departments.filter(\n            (department) => department.id != id\n          );\n        },\n        error: (error) => {\n          console.log(error);\n        },\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Department.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Department.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Department.vue?vue&type=template&id=4abdb350&\"\nimport script from \"./Department.vue?vue&type=script&lang=js&\"\nexport * from \"./Department.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}