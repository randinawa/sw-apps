(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d79cabe6"],{d81d:function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").map,i=s("1dde"),o=s("ae40"),n=i("map"),l=o("map");a({target:"Array",proto:!0,forced:!n||!l},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},ec05:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",[s("div",{staticClass:"d-flex justify-content-between mb-2"},[s("download-excel",{staticClass:"cursor-pointer",attrs:{data:t.exportItems,fields:t.exportFields,filename:"Employee",sheetname:"Employee"}},[s("b-button",{staticClass:"mr-1",staticStyle:{padding:"0.6rem"},attrs:{variant:"outline-secondary",size:"sm"}},[s("feather-icon",{staticClass:"text-success",attrs:{icon:"FileIcon",size:"20"}}),s("label",{staticStyle:{"font-size":"14px","margin-left":"5px",cursor:"pointer"}},[t._v("Export")])],1)],1)],1),s("div",{staticClass:"d-flex justify-content-between align-items-center mb-1"},[s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"mr-1",staticStyle:{"font-size":"14px"},attrs:{for:""}},[t._v("Sort")]),s("b-form-select",{staticClass:"w-100",attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),s("div",{staticClass:"d-flex align-items-center"},[s("label",{staticClass:"mr-1",staticStyle:{"font-size":"14px"},attrs:{for:""}},[t._v("Search")]),s("b-form-input",{attrs:{id:"searchInput",size:"sm",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]),s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-table",{attrs:{striped:"",hover:"",responsive:"","per-page":t.perPage,"current-page":t.currentPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,filter:t.filter},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(profile_photo_url)",fn:function(t){return[s("b-avatar",{attrs:{src:t.value}})]}},{key:"cell(actions)",fn:function(e){return[s("div",{staticClass:"text-center"},[t.hasPermission("delete user")?s("feather-icon",{staticClass:"text-danger",staticStyle:{"margin-right":"5px"},attrs:{icon:"TrashIcon",size:"20"},on:{click:function(s){return t.deleteEmployee(e.value)}}}):t._e(),s("b-link",{attrs:{to:{name:"hrm/employee/detail",params:{id:e.value}}}},[s("feather-icon",{staticClass:"text-primary",attrs:{icon:"EditIcon",size:"20"}})],1)],1)]}}])})],1),s("b-col",{attrs:{cols:"12"}},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("span",[t._v(" Showing "+t._s(t.perPage>t.totalRows?t.totalRows:t.perPage)+" of "+t._s(t.totalRows)+" entries ")]),s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])],1)],1)},r=[],i=(s("d81d"),s("4de4"),s("d3b7"),s("159b"),s("223c")),o={data:function(){return{perPage:5,pageOptions:[3,5,10],totalRows:1,currentPage:1,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,fields:[{key:"profile_photo_url",label:"Avatar"},{key:"user_id",label:"Employee"},{key:"strategic_goals",label:"Goals"},{key:"key_performance_indicator",label:"Description"},{key:"weight",label:"Weight"},{key:"target",label:"Target"},{key:"due_date",label:"Due Date",sortable:"true"},{key:"actions",label:"Actions"}],items:[],exportFields:{"HR Code":"hrcode",Name:"name",Email:"email",Department:"department.name",Position:"team.name",Status:"is_active"},exportItems:[]}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){this.totalRows=this.items.length,this.fetchData()},methods:{fetchData:function(){var t=this;this.callApi({method:"GET",url:"/goals/fetch",success:function(e){e.result.data.forEach((function(e){t.items.push({user_id:e.user_id,strategic_goals:e.strategic_goals,key_performance_indicator:e.key_performance_indicator,weight:e.weight,target:e.target,due_date:e.due_date,actions:e.id})})),t.totalRows=t.items.length,t.exportItems=e.result.data},error:function(e){t.$toast({component:i["a"],props:{title:"Notification",icon:"BellIcon",text:"Failed to fetch data",variant:"error"}})}})},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},deleteEmployee:function(t){var e=this;this.callApi({method:"DELETE",url:"/users/delete/"+this.hashid(t),success:function(t){e.$toast({component:i["a"],props:{title:"Notification",icon:"BellIcon",text:"Delete successfully",variant:"success"}}),e.items=[],e.fetchData()},error:function(t){e.$toast({component:i["a"],props:{title:"Notification",icon:"BellIcon",text:"Failed to delete",variant:"error"}})}})}}},n=o,l=s("2877"),c=Object(l["a"])(n,a,r,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-d79cabe6.1066a6cb.js.map