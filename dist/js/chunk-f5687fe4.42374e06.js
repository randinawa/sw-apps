(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f5687fe4"],{c4f7:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("div",{staticClass:"d-flex justify-content-end mb-2"},[a("download-excel",{attrs:{data:t.exportItems,fields:t.exportFields,filename:"Employee",sheetname:"Employee"}},[a("b-button",{staticClass:"mr-1",staticStyle:{padding:"0.6rem"},attrs:{variant:"outline-secondary",size:"sm"}},[a("feather-icon",{staticClass:"text-success",attrs:{icon:"FileIcon",size:"20"}}),a("label",{staticStyle:{"font-size":"14px","margin-left":"5px"}},[t._v("Export")])],1)],1),a("b-link",{attrs:{to:"/"}},[a("b-button",{attrs:{variant:"primary"}},[t._v("Add Employee")])],1)],1),a("div",{staticClass:"d-flex justify-content-between align-items-center mb-1"},[a("div",{staticClass:"d-flex align-items-center"},[a("label",{staticClass:"mr-1",staticStyle:{"font-size":"14px"},attrs:{for:""}},[t._v("Sort")]),a("b-form-select",{staticClass:"w-100",attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1),a("div",{staticClass:"d-flex align-items-center"},[a("label",{staticClass:"mr-1",staticStyle:{"font-size":"14px"},attrs:{for:""}},[t._v("Search")]),a("b-form-input",{attrs:{id:"searchInput",size:"sm",type:"search",placeholder:"Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)]),a("b-row",[a("b-col",{attrs:{cols:"12"}},[a("b-table",{attrs:{striped:"",hover:"",responsive:"","per-page":t.perPage,"current-page":t.currentPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,filter:t.filter},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[a("span",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"detail_employee_"+e.value,expression:"'detail_employee_' + data.value"}],staticClass:"text-primary"},[t._v(" "+t._s(e.value)+" ")])]}},{key:"cell(profile_photo_url)",fn:function(t){return[a("b-avatar",{attrs:{src:t.value}})]}},{key:"cell(is_active)",fn:function(e){return[a("b-badge",{attrs:{variant:t.status[1][e.value]}},[t._v(" "+t._s(t.status[0][e.value])+" ")])]}}])})],1),a("b-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("span",[t._v(" Showing "+t._s(t.perPage>t.totalRows?t.totalRows:t.perPage)+" of "+t._s(t.totalRows)+" entries ")]),a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])],1),t._l(t.items,(function(e){return a("b-modal",{key:e.id,attrs:{id:"detail_employee_"+e.name,size:"lg","hide-footer":""}},[a("div",{staticClass:"text-center mb-3",staticStyle:{"line-height":"1px"}},[a("h1",{staticClass:"mb-2"},[t._v("Detail Employee")]),a("span",[t._v(" This is data for employee with name "),a("b",[t._v(t._s(e.name))])])]),a("form",{attrs:{id:"update_employee_form"}},[a("b-row",[a("b-col",{attrs:{md:"6"}},[a("b-form-group",[a("b-form-input",{attrs:{id:"hrcode",type:"text",placeholder:"HR Code",required:""},model:{value:e.hrcode,callback:function(a){t.$set(e,"hrcode",a)},expression:"item.hrcode"}})],1)],1)],1)],1)])}))],2)},r=[],i=(a("d81d"),a("4de4"),a("d3b7"),a("bc3a")),o=a.n(i),l={data:function(){return{perPage:5,pageOptions:[3,5,10],totalRows:1,currentPage:1,sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,fields:[{key:"hrcode",label:"HR Code"},{key:"profile_photo_url",label:"Avatar"},{key:"name",label:"Full Name",sortable:!0},"email",{key:"department.name",label:"Department",sortable:"true"},{key:"team.name",label:"Position",sortable:"true"},{key:"is_active",label:"Status",sortable:!0}],items:[],status:[{1:"Active",2:"Inactive"},{1:"light-success",2:"light-danger"}],exportFields:{"HR Code":"hrcode",Name:"name",Email:"email",Department:"department.name",Position:"team.name",Status:"is_active"},exportItems:[]}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){this.totalRows=this.items.length,this.fetchData()},methods:{fetchData:function(){var t=this;o()({method:"GET",url:"https://sw-api.hracademy.id/api/userAll",headers:{Authorization:"Bearer "+localStorage.getItem("sw_token")}}).then((function(e){t.items=e.data.result.data,t.totalRows=t.items.length,t.exportItems=e.data.result.data})).catch((function(e){t.$toast({component:ToastificationContent,props:{title:"Notification",icon:"BellIcon",text:"Failed to fetch data",variant:"error"}})}))},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},n=l,c=a("2877"),d=Object(c["a"])(n,s,r,!1,null,null,null);e["default"]=d.exports},d81d:function(t,e,a){"use strict";var s=a("23e7"),r=a("b727").map,i=a("1dde"),o=a("ae40"),l=i("map"),n=o("map");s({target:"Array",proto:!0,forced:!l||!n},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-f5687fe4.42374e06.js.map